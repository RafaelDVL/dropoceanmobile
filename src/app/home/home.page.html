<ion-header>
  <ion-toolbar>
      <ion-title>Doser DropOcean</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <!-- Texto alterna conforme o estado da conexÃ£o -->
  <h2 *ngIf="!isConnected; else connectedMsg">Selecione o ESP32</h2>
  <ng-template #connectedMsg>
    <h2>Dispositivo conectado</h2>
  </ng-template>

  <!-- BotÃ£o para conectar aparece apenas se nÃ£o estiver conectado -->
  <ion-button
    expand="full"
    (click)="connectToESP32()"
    (keydown)="handleKeyDown($event)"
    *ngIf="!isConnected">
    ðŸ”— Procurar e Conectar
  </ion-button>

  <!-- BotÃ£o para ir para configuraÃ§Ã£o aparece apenas apÃ³s a conexÃ£o -->
  <ion-button
    expand="full"
    (click)="onClick()"
    *ngIf="isConnected">
    Ir para configuraÃ§Ã£o
  </ion-button>
</ion-content>

<div>
	@if (showSucess) {
		<ngb-toast 
			[autohide]="true"
			(hidden)="showSucess = false"
			[ngClass]="'bg-success text-light full-width-toast'"
		>
			Dispositivo conectado com sucesso.
		</ngb-toast>
	}
</div>
<div>
	@if (showError) {
		<ngb-toast 
			[autohide]="true"
			(hidden)="showError = false"
			[ngClass]="'bg-danger text-light full-width-toast'"
		>
			Erro ao conectar dispositivo.
		</ngb-toast>
	}
</div>

